<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Register ESR URL Handler</title>
  <style type="text/css">
   body{
   font-family:sans-serif;
   text-align:center;
   }
  </style>
  </head>
  <body>
  <h1>Loading...</h1>
  <script type="text/javascript">
   function autorun()
   {
     try {
    navigator.registerProtocolHandler(
    'web+esr', 'https://easrng.github.io/%s', 'ESR URL');
     } catch {
       document.querySelector("h1").innerHTML='<span style="color:red;">ðŸ˜¢<br>Sorry, there was an error!</span>'
     }
     if(!document.querySelector("h1").innerHTML=='<span style="color:red;">ðŸ˜¢<br>Sorry, there was an error!</span>'){
        document.querySelector("h1").innerHTML='<span style="color:green;">Done!</span>'
        }
   }
   if (document.addEventListener) document.addEventListener("DOMContentLoaded", autorun, false);
   else if (document.attachEvent) document.attachEvent("onreadystatechange", autorun);
   else window.onload = autorun;
  </script>
  </body>
</html>
